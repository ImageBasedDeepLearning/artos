<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>ARTOS: ARTOS::ModelLearner Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ARTOS
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Adaptive Real-Time Object Detection System</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_a_r_t_o_s_1_1_model_learner.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="class_a_r_t_o_s_1_1_model_learner-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ARTOS::ModelLearner Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="_model_learner_8h_source.html">ModelLearner.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for ARTOS::ModelLearner:</div>
<div class="dyncontent">
<div class="center"><img src="class_a_r_t_o_s_1_1_model_learner__inherit__graph.png" border="0" usemap="#_a_r_t_o_s_1_1_model_learner_inherit__map" alt="Inheritance graph"/></div>
<map name="_a_r_t_o_s_1_1_model_learner_inherit__map" id="_a_r_t_o_s_1_1_model_learner_inherit__map">
<area shape="rect" id="node3" href="class_a_r_t_o_s_1_1_image_net_model_learner.html" title="ARTOS::ImageNetModelLearner" alt="" coords="5,83,216,112"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for ARTOS::ModelLearner:</div>
<div class="dyncontent">
<div class="center"><img src="class_a_r_t_o_s_1_1_model_learner__coll__graph.png" border="0" usemap="#_a_r_t_o_s_1_1_model_learner_coll__map" alt="Collaboration graph"/></div>
<map name="_a_r_t_o_s_1_1_model_learner_coll__map" id="_a_r_t_o_s_1_1_model_learner_coll__map">
<area shape="rect" id="node2" href="class_a_r_t_o_s_1_1_stationary_background.html" title="ARTOS::StationaryBackground" alt="" coords="5,5,208,35"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_r_t_o_s_1_1_model_learner_1_1_size.html">Size</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1fe6e9365213ef15718ff299843c256e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_r_t_o_s_1_1_model_learner.html#a1fe6e9365213ef15718ff299843c256e">ModelLearner</a> ()</td></tr>
<tr class="separator:a1fe6e9365213ef15718ff299843c256e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a297d10791ae70755d7a80f860a9e6c45"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_r_t_o_s_1_1_model_learner.html#a297d10791ae70755d7a80f860a9e6c45">ModelLearner</a> (const <a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html">StationaryBackground</a> &amp;bg, const bool loocv=true, const bool verbose=false)</td></tr>
<tr class="separator:a297d10791ae70755d7a80f860a9e6c45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a8f881b3559ae1b96ba6d362d0450b7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_r_t_o_s_1_1_model_learner.html#a5a8f881b3559ae1b96ba6d362d0450b7">ModelLearner</a> (const std::string &amp;bgFile, const bool loocv=true, const bool verbose=false)</td></tr>
<tr class="separator:a5a8f881b3559ae1b96ba6d362d0450b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0506252b7f16e1143324684deb0064b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_r_t_o_s_1_1_model_learner.html#ae0506252b7f16e1143324684deb0064b">setBackground</a> (const <a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html">StationaryBackground</a> &amp;bg)</td></tr>
<tr class="separator:ae0506252b7f16e1143324684deb0064b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a059caf3572bbb464c2feb1c392e9d85f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_r_t_o_s_1_1_model_learner.html#a059caf3572bbb464c2feb1c392e9d85f">setBackground</a> (const std::string &amp;bgFile)</td></tr>
<tr class="separator:a059caf3572bbb464c2feb1c392e9d85f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ac62fe852ad4f0c574224014ad2d9ee"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html">StationaryBackground</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_r_t_o_s_1_1_model_learner.html#a4ac62fe852ad4f0c574224014ad2d9ee">getBackground</a> ()</td></tr>
<tr class="separator:a4ac62fe852ad4f0c574224014ad2d9ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7266ff6d5ffca37f6b18ca8690c1a8bc"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_r_t_o_s_1_1_model_learner.html#a7266ff6d5ffca37f6b18ca8690c1a8bc">getNumSamples</a> () const </td></tr>
<tr class="separator:a7266ff6d5ffca37f6b18ca8690c1a8bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab192a6c77ffef0321dd8df74345757c8"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; <a class="el" href="struct_a_r_t_o_s_1_1_w_h_o_sample.html">WHOSample</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_r_t_o_s_1_1_model_learner.html#ab192a6c77ffef0321dd8df74345757c8">getSamples</a> () const </td></tr>
<tr class="separator:ab192a6c77ffef0321dd8df74345757c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60f1fc571f974c73b716ea41b4709476"><td class="memItemLeft" align="right" valign="top">const std::vector<br class="typebreak"/>
&lt; FFLD::HOGPyramid::Level &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_r_t_o_s_1_1_model_learner.html#a60f1fc571f974c73b716ea41b4709476">getModels</a> ()</td></tr>
<tr class="separator:a60f1fc571f974c73b716ea41b4709476"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a643c81d8abb5508666f02ffa6a1b4256"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; float &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_r_t_o_s_1_1_model_learner.html#a643c81d8abb5508666f02ffa6a1b4256">getThresholds</a> () const </td></tr>
<tr class="separator:a643c81d8abb5508666f02ffa6a1b4256"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d9d57bcea45a51ec5adfaf54749d8a1"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; unsigned int &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_r_t_o_s_1_1_model_learner.html#a5d9d57bcea45a51ec5adfaf54749d8a1">getClusterSizes</a> () const </td></tr>
<tr class="separator:a5d9d57bcea45a51ec5adfaf54749d8a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac455386e56e02ed172e09477daf7afc"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_r_t_o_s_1_1_model_learner.html#aac455386e56e02ed172e09477daf7afc">reset</a> ()</td></tr>
<tr class="separator:aac455386e56e02ed172e09477daf7afc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8af887aaa85edd3d83e1dacac1fc5112"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_r_t_o_s_1_1_model_learner.html#a8af887aaa85edd3d83e1dacac1fc5112">addPositiveSample</a> (const FFLD::JPEGImage &amp;sample, const FFLD::Rectangle &amp;boundingBox)</td></tr>
<tr class="separator:a8af887aaa85edd3d83e1dacac1fc5112"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef8309e9ca958854283ea2303262588e"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_r_t_o_s_1_1_model_learner.html#aef8309e9ca958854283ea2303262588e">addPositiveSample</a> (const FFLD::JPEGImage &amp;sample, const std::vector&lt; FFLD::Rectangle &gt; &amp;boundingBoxes)</td></tr>
<tr class="separator:aef8309e9ca958854283ea2303262588e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7703aedb2696cdacc8b7983a90a714ba"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_r_t_o_s_1_1_model_learner.html#a7703aedb2696cdacc8b7983a90a714ba">learn</a> (const unsigned int maxAspectClusters=1, const unsigned int maxWHOClusters=1, <a class="el" href="defs_8h.html#ab9c43744b7d48c87a16c800876456db0">ProgressCallback</a> progressCB=NULL, void *cbData=NULL)</td></tr>
<tr class="separator:a7703aedb2696cdacc8b7983a90a714ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35956ad7e24b2b91bd8ef838d68e7753"><td class="memItemLeft" align="right" valign="top">virtual const std::vector<br class="typebreak"/>
&lt; float &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_r_t_o_s_1_1_model_learner.html#a35956ad7e24b2b91bd8ef838d68e7753">optimizeThreshold</a> (const unsigned int maxPositive=0, const std::vector&lt; FFLD::JPEGImage &gt; *negative=NULL, const float b=1.0f, ProgressCallback progressCB=NULL, void *cbData=NULL)</td></tr>
<tr class="separator:a35956ad7e24b2b91bd8ef838d68e7753"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a068517d1502a0535ad6d82d2f3e4fa89"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_r_t_o_s_1_1_model_learner.html#a068517d1502a0535ad6d82d2f3e4fa89">save</a> (const std::string &amp;filename, const bool addToMixture=true) const </td></tr>
<tr class="separator:a068517d1502a0535ad6d82d2f3e4fa89"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:ad2e211dddf5c19b224c81a1e145ab255"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="struct_a_r_t_o_s_1_1_model_learner_1_1_size.html">Size</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_r_t_o_s_1_1_model_learner.html#ad2e211dddf5c19b224c81a1e145ab255">computeOptimalCellNumber</a> (const std::vector&lt; int &gt; &amp;widths, const std::vector&lt; int &gt; &amp;heights)</td></tr>
<tr class="separator:ad2e211dddf5c19b224c81a1e145ab255"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ac9df8d3e93d1fe60aa7d65881f798231"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_r_t_o_s_1_1_model_learner.html#ac9df8d3e93d1fe60aa7d65881f798231">m_verbose</a></td></tr>
<tr class="separator:ac9df8d3e93d1fe60aa7d65881f798231"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf4a1b494a2ffba183a276a6727332ca"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_r_t_o_s_1_1_model_learner.html#abf4a1b494a2ffba183a276a6727332ca">m_loocv</a></td></tr>
<tr class="separator:abf4a1b494a2ffba183a276a6727332ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6f5533c070b4a763f9ff10613516323"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html">StationaryBackground</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_r_t_o_s_1_1_model_learner.html#af6f5533c070b4a763f9ff10613516323">m_bg</a></td></tr>
<tr class="separator:af6f5533c070b4a763f9ff10613516323"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99c8135b67eff50b9b8130e9040c54a6"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="struct_a_r_t_o_s_1_1_w_h_o_sample.html">WHOSample</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_r_t_o_s_1_1_model_learner.html#a99c8135b67eff50b9b8130e9040c54a6">m_samples</a></td></tr>
<tr class="separator:a99c8135b67eff50b9b8130e9040c54a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a662557bfc706c205808eb85fd4fc794c"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_r_t_o_s_1_1_model_learner.html#a662557bfc706c205808eb85fd4fc794c">m_numSamples</a></td></tr>
<tr class="separator:a662557bfc706c205808eb85fd4fc794c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2344a46529c829b91a0c8544427eb7f5"><td class="memItemLeft" align="right" valign="top">std::vector<br class="typebreak"/>
&lt; FFLD::HOGPyramid::Level &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_r_t_o_s_1_1_model_learner.html#a2344a46529c829b91a0c8544427eb7f5">m_models</a></td></tr>
<tr class="separator:a2344a46529c829b91a0c8544427eb7f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4e29c0e0a4444763922bb0bbedd914e"><td class="memItemLeft" align="right" valign="top">std::vector&lt; float &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_r_t_o_s_1_1_model_learner.html#ae4e29c0e0a4444763922bb0bbedd914e">m_thresholds</a></td></tr>
<tr class="separator:ae4e29c0e0a4444763922bb0bbedd914e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78c68503eaa08e0dee4fa2d8119dee85"><td class="memItemLeft" align="right" valign="top">std::vector&lt; unsigned int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_r_t_o_s_1_1_model_learner.html#a78c68503eaa08e0dee4fa2d8119dee85">m_clusterSizes</a></td></tr>
<tr class="separator:a78c68503eaa08e0dee4fa2d8119dee85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc6ec1806eded71a92f3e40088d6299f"><td class="memItemLeft" align="right" valign="top">std::vector<br class="typebreak"/>
&lt; FFLD::HOGPyramid::Scalar &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_a_r_t_o_s_1_1_model_learner.html#adc6ec1806eded71a92f3e40088d6299f">m_normFactors</a></td></tr>
<tr class="separator:adc6ec1806eded71a92f3e40088d6299f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Handles learning of WHO (<em>Whitened Histogram of Orientations</em> [Hariharan et. al.]) models using Linear Discriminant Analysis (LDA).</p>
<p>Here's our <b>learning method</b> in a nutshell: \(m = \Sigma^{-1} \cdot (\mu_{pos} - \mu_{neg})\) Average the HOG (<em>Histogram of Oriented Gradients</em> [Dalal &amp; Triggs]) features of each positive sample, centre them by subtracting the previously learned negative mean <code>neg</code> and decorrelate ("whiten") them with the also previously learned covariance matrix <code>S</code>.</p>
<p>The typical <b>work-flow</b> for using this class is as follows:</p>
<ol type="1">
<li>Create a new model learner and pass in background statistics as <a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html">StationaryBackground</a> object or file name.</li>
<li>Add some positive samples, i. e. JPEG images of the object to be learned.</li>
<li>Call <a class="el" href="class_a_r_t_o_s_1_1_model_learner.html#a7703aedb2696cdacc8b7983a90a714ba">learn()</a> to perform the actual learning step.</li>
<li>(<em>Optional</em>) Call <a class="el" href="class_a_r_t_o_s_1_1_model_learner.html#a35956ad7e24b2b91bd8ef838d68e7753">optimizeThreshold()</a> to determine an appropriate threshold for the learned model.</li>
<li>Write the model to file using <a class="el" href="class_a_r_t_o_s_1_1_model_learner.html#a068517d1502a0535ad6d82d2f3e4fa89">save()</a>.</li>
</ol>
<dl class="section author"><dt>Author</dt><dd>Bjoern Barz <a href="#" onclick="location.href='mai'+'lto:'+'bjo'+'er'+'n.b'+'ar'+'z@u'+'ni'+'-je'+'na'+'.de'; return false;">bjoer<span style="display: none;">.nosp@m.</span>n.ba<span style="display: none;">.nosp@m.</span>rz@un<span style="display: none;">.nosp@m.</span>i-je<span style="display: none;">.nosp@m.</span>na.de</a> </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a1fe6e9365213ef15718ff299843c256e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ARTOS::ModelLearner::ModelLearner </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Constructs an empty <a class="el" href="class_a_r_t_o_s_1_1_model_learner.html">ModelLearner</a>, which can not be used until some background statistics are given using <a class="el" href="class_a_r_t_o_s_1_1_model_learner.html#ae0506252b7f16e1143324684deb0064b">setBackground()</a>. </p>

</div>
</div>
<a class="anchor" id="a297d10791ae70755d7a80f860a9e6c45"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ARTOS::ModelLearner::ModelLearner </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html">StationaryBackground</a> &amp;&#160;</td>
          <td class="paramname"><em>bg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>loocv</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>verbose</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Constructs a new <a class="el" href="class_a_r_t_o_s_1_1_model_learner.html">ModelLearner</a> with given background statistics.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bg</td><td>The stationary background statistics.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">loocv</td><td>If set to true, <em>Leave-one-out-cross-validation</em> will be performed for threshold optimization. This will increase memory usage, since the WHO features of all samples have to be stored for this, and will slow down threshold optimization as well as the model learning step if only one WHO cluster is used. But it will guarantee that no model is tested against a sample it has been learned from for threshold optimization.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">verbose</td><td>If set to true, debug and timing information will be printed to stderr. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a5a8f881b3559ae1b96ba6d362d0450b7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ARTOS::ModelLearner::ModelLearner </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>bgFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>loocv</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>verbose</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Constructs a new <a class="el" href="class_a_r_t_o_s_1_1_model_learner.html">ModelLearner</a> with given background statistics.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bgFile</td><td>Path to a file containing background statistics.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">loocv</td><td>If set to true, <em>Leave-one-out-cross-validation</em> will be performed for threshold optimization. This will increase memory usage, since the WHO features of all samples have to be stored for this, and will slow down threshold optimization as well as the model learning step if only one WHO cluster is used. But it will guarantee that no model is tested against a sample it has been learned from for threshold optimization.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">verbose</td><td>If set to true, debug and timing information will be printed to stderr. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a8af887aaa85edd3d83e1dacac1fc5112"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void ARTOS::ModelLearner::addPositiveSample </td>
          <td>(</td>
          <td class="paramtype">const FFLD::JPEGImage &amp;&#160;</td>
          <td class="paramname"><em>sample</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const FFLD::Rectangle &amp;&#160;</td>
          <td class="paramname"><em>boundingBox</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Adds a positive sample to learn from given by an image and a bounding box around the object on that image.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sample</td><td>The image which contains the object.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">boundingBox</td><td>The bounding box around the object on the given image. If the bounding box is empty (a rectangle with zero area), the entire image will be used as positive sample. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aef8309e9ca958854283ea2303262588e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void ARTOS::ModelLearner::addPositiveSample </td>
          <td>(</td>
          <td class="paramtype">const FFLD::JPEGImage &amp;&#160;</td>
          <td class="paramname"><em>sample</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; FFLD::Rectangle &gt; &amp;&#160;</td>
          <td class="paramname"><em>boundingBoxes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Adds multiple positive samples to learn from on the same image given by bounding boxes around the objects.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sample</td><td>The image which contains the objects.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">boundingBoxes</td><td>Vector of bounding boxes around each object on the given image. If just one of the bounding boxes is empty (a rectangle with zero area) only one sample will be added, which is the entire image. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad2e211dddf5c19b224c81a1e145ab255"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_a_r_t_o_s_1_1_model_learner_1_1_size.html">ModelLearner::Size</a> ModelLearner::computeOptimalCellNumber </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>widths</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>heights</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Computes an optimal common number of cells in x and y direction for given widths and heights of samples.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">widths</td><td>Vector with the widths of the samples.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">heights</td><td>Vector with the heights of the samples, corresponding to <code>width</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the optimal cell number in x and y direction as a struct with <code>width</code> and <code>height</code> fields.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Background statistics must have been set for this function to work. </dd></dl>

</div>
</div>
<a class="anchor" id="a4ac62fe852ad4f0c574224014ad2d9ee"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html">StationaryBackground</a>&amp; ARTOS::ModelLearner::getBackground </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>The <a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html">StationaryBackground</a> object used by this <a class="el" href="class_a_r_t_o_s_1_1_model_learner.html">ModelLearner</a> for centring and whitening. </dd></dl>

</div>
</div>
<a class="anchor" id="a5d9d57bcea45a51ec5adfaf54749d8a1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt;unsigned int&gt;&amp; ARTOS::ModelLearner::getClusterSizes </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>Reference to a vector with the number of samples, each model computed by <a class="el" href="class_a_r_t_o_s_1_1_model_learner.html#a7703aedb2696cdacc8b7983a90a714ba">learn()</a> has been learned from. An empty vector will be returned if no model has been learned yet. </dd></dl>

</div>
</div>
<a class="anchor" id="a60f1fc571f974c73b716ea41b4709476"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt;FFLD::HOGPyramid::Level&gt;&amp; ARTOS::ModelLearner::getModels </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>The models learned by <a class="el" href="class_a_r_t_o_s_1_1_model_learner.html#a7703aedb2696cdacc8b7983a90a714ba">learn()</a>, which will be an empty vector if <a class="el" href="class_a_r_t_o_s_1_1_model_learner.html#a7703aedb2696cdacc8b7983a90a714ba">learn()</a> hasn't been called yet or has failed. </dd></dl>

</div>
</div>
<a class="anchor" id="a7266ff6d5ffca37f6b18ca8690c1a8bc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int ARTOS::ModelLearner::getNumSamples </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>The number of positive samples added to this <a class="el" href="class_a_r_t_o_s_1_1_model_learner.html">ModelLearner</a> before using <a class="el" href="class_a_r_t_o_s_1_1_model_learner.html#a8af887aaa85edd3d83e1dacac1fc5112">addPositiveSample()</a> for example. Each bounding box on an image is counted as a single sample. </dd></dl>

</div>
</div>
<a class="anchor" id="ab192a6c77ffef0321dd8df74345757c8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt;<a class="el" href="struct_a_r_t_o_s_1_1_w_h_o_sample.html">WHOSample</a>&gt;&amp; ARTOS::ModelLearner::getSamples </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>A reference to a vector with <a class="el" href="struct_a_r_t_o_s_1_1_w_h_o_sample.html">WHOSample</a> structures representing the positive samples added to this learner with <a class="el" href="class_a_r_t_o_s_1_1_model_learner.html#a8af887aaa85edd3d83e1dacac1fc5112">addPositiveSample()</a>. </dd></dl>

</div>
</div>
<a class="anchor" id="a643c81d8abb5508666f02ffa6a1b4256"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt;float&gt;&amp; ARTOS::ModelLearner::getThresholds </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>The threshold for the learned models determined by <a class="el" href="class_a_r_t_o_s_1_1_model_learner.html#a35956ad7e24b2b91bd8ef838d68e7753">optimizeThreshold()</a>, which will be 0 if <a class="el" href="class_a_r_t_o_s_1_1_model_learner.html#a35956ad7e24b2b91bd8ef838d68e7753">optimizeThreshold()</a> hasn't been called yet or has failed. </dd></dl>

</div>
</div>
<a class="anchor" id="a7703aedb2696cdacc8b7983a90a714ba"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ModelLearner::learn </td>
          <td>(</td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>maxAspectClusters</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>maxWHOClusters</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="defs_8h.html#ab9c43744b7d48c87a16c800876456db0">ProgressCallback</a>&#160;</td>
          <td class="paramname"><em>progressCB</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>cbData</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Performs the actual learning step and stores the resulting models, so that they can be retrieved later on by <a class="el" href="class_a_r_t_o_s_1_1_model_learner.html#a60f1fc571f974c73b716ea41b4709476">getModels()</a>.</p>
<p>Optionally, clustering can be performed before learning, first by aspect ratio, then by WHO features. A separate model will be learned for each cluster. Thus, the maximum number of learned models will be <code>maxAspectClusters * maxWHOClusters</code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">maxAspectClusters</td><td>Maximum number of clusters to form by the aspect ratio of the samples.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">maxWHOClusters</td><td>Maximum number of clusters to form by the WHO feature vectors of the samples of a single aspect ratio cluster.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">progressCB</td><td>Optionally, a callback that is called to populate the progress of the procedure. The first parameter to the callback will be the current step and the second parameter will be the total number of steps. For example, the argument list (5, 10) means that the learning is half way done.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cbData</td><td>Will be passed to the <code>progressCB</code> callback as third parameter.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if some models could be learned, false if learning failed completely.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Background statistics must have been set and some samples must have been added before calling <a class="el" href="class_a_r_t_o_s_1_1_model_learner.html#a7703aedb2696cdacc8b7983a90a714ba">learn()</a>. </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_a_r_t_o_s_1_1_model_learner_a7703aedb2696cdacc8b7983a90a714ba_cgraph.png" border="0" usemap="#class_a_r_t_o_s_1_1_model_learner_a7703aedb2696cdacc8b7983a90a714ba_cgraph" alt=""/></div>
<map name="class_a_r_t_o_s_1_1_model_learner_a7703aedb2696cdacc8b7983a90a714ba_cgraph" id="class_a_r_t_o_s_1_1_model_learner_a7703aedb2696cdacc8b7983a90a714ba_cgraph">
<area shape="rect" id="node3" href="namespace_a_r_t_o_s.html#a13910115ab667592b26511453d72a9d2" title="ARTOS::repeatedKMeansClustering" alt="" coords="209,5,441,35"/><area shape="rect" id="node7" href="namespace_a_r_t_o_s.html#a04d256e698b1056a935847df6c69ac34" title="ARTOS::mergeNearbyClusters" alt="" coords="224,59,427,88"/><area shape="rect" id="node5" href="namespace_a_r_t_o_s.html#a9353cb7d44add44ac35800f4109cf929" title="ARTOS::kMeansClustering" alt="" coords="491,5,672,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a35956ad7e24b2b91bd8ef838d68e7753"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const vector&lt; float &gt; &amp; ModelLearner::optimizeThreshold </td>
          <td>(</td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>maxPositive</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; FFLD::JPEGImage &gt; *&#160;</td>
          <td class="paramname"><em>negative</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>b</em> = <code>1.0f</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="defs_8h.html#ab9c43744b7d48c87a16c800876456db0">ProgressCallback</a>&#160;</td>
          <td class="paramname"><em>progressCB</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>cbData</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Finds the optimal thresholds for the models learned previously with <a class="el" href="class_a_r_t_o_s_1_1_model_learner.html#a7703aedb2696cdacc8b7983a90a714ba">learn()</a> by testing them against the positive samples and, optionally, some additional negative samples to maximize the F-measure of each model: </p>
<p class="formulaDsp">
\[\frac{(1 + b^2) \cdot precision \cdot recall}{b^2 \cdot precision + recall}\]
</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">maxPositive</td><td>Maximum number of positive samples to test the models against. Set this to 0 to run the detector against all samples.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">negative</td><td>Pointer to a vector of JPEGImages which are negative samples and, thus, must not contain any object of the class the learned model is trained for. Any detection on these images will be considered as a false positive. This parameter is optional and may be <code>NULL</code>.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>The b parameter for F-measure calculation. This is used to weight precision against recall. A value of 2 will rate recall twice as much as precision and a value of 0.5 will put more emphasis on precision than on recall, for example. b must be greater than 0.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">progressCB</td><td>Optionally, a callback that is called after each run of the detector against a sample. The first parameter to the callback will be the number of samples processed and the second parameter will be the total number of samples to be processed. For example, the argument list (5, 10) means that the optimization is half way done.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cbData</td><td>Will be passed to the <code>progressCB</code> callback as third parameter.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Vector with the calculated optimal thresholds, which will be stored internally and can also be obtained later on using getThreshold(). </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_a_r_t_o_s_1_1_model_learner_a35956ad7e24b2b91bd8ef838d68e7753_cgraph.png" border="0" usemap="#class_a_r_t_o_s_1_1_model_learner_a35956ad7e24b2b91bd8ef838d68e7753_cgraph" alt=""/></div>
<map name="class_a_r_t_o_s_1_1_model_learner_a35956ad7e24b2b91bd8ef838d68e7753_cgraph" id="class_a_r_t_o_s_1_1_model_learner_a35956ad7e24b2b91bd8ef838d68e7753_cgraph">
<area shape="rect" id="node3" href="class_a_r_t_o_s_1_1_d_p_m_detection.html#af0a95dcd6dc893401d68fa50a8929338" title="ARTOS::DPMDetection\l::addModel" alt="" coords="211,5,373,51"/><area shape="rect" id="node5" href="_model_learner_8cc.html#a91d69ccde8c4ff04cc3378e4afed9c31" title="loo_who" alt="" coords="257,75,327,104"/><area shape="rect" id="node7" href="class_a_r_t_o_s_1_1_model_evaluator.html#a7430c554715656da96d4b70ce5efa2de" title="ARTOS::ModelEvaluator\l::testModels" alt="" coords="209,127,375,174"/><area shape="rect" id="node9" href="class_a_r_t_o_s_1_1_model_evaluator.html#a8979269a8d0f73a8e8d0a613cad76bf3" title="ARTOS::ModelEvaluator\l::getMaxFMeasure" alt="" coords="209,197,375,243"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aac455386e56e02ed172e09477daf7afc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ModelLearner::reset </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Resets this learner to it's initial state and makes it forget all learned models, thresholds and added samples. Only the given background statistics will be left intact. </p>

<p>Reimplemented in <a class="el" href="class_a_r_t_o_s_1_1_image_net_model_learner.html#a533952a15deda7734841edef2cbca605">ARTOS::ImageNetModelLearner</a>.</p>

</div>
</div>
<a class="anchor" id="a068517d1502a0535ad6d82d2f3e4fa89"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ModelLearner::save </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>addToMixture</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Writes the models learned by <a class="el" href="class_a_r_t_o_s_1_1_model_learner.html#a7703aedb2696cdacc8b7983a90a714ba">learn()</a> to a file.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">filename</td><td>The path of the file to be written.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">addToMixture</td><td>If set to true and <code>filename</code> does already exist and is a valid mixture, the new models will be appended to that mixture. If set to false, an existing file will be truncated and a new mixture will be created.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the model file could be written successfully, false if no model has been learned yet or the specified file is not accessible for writing. </dd></dl>

</div>
</div>
<a class="anchor" id="ae0506252b7f16e1143324684deb0064b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ARTOS::ModelLearner::setBackground </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html">StationaryBackground</a> &amp;&#160;</td>
          <td class="paramname"><em>bg</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Changes the background statistics used by this <a class="el" href="class_a_r_t_o_s_1_1_model_learner.html">ModelLearner</a> for centring and whitening.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bg</td><td>The new stationary background statistics. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a059caf3572bbb464c2feb1c392e9d85f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ARTOS::ModelLearner::setBackground </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>bgFile</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Changes the background statistics used by this <a class="el" href="class_a_r_t_o_s_1_1_model_learner.html">ModelLearner</a> for centring and whitening.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bg</td><td>Path to a file containing the new background statistics. </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_a_r_t_o_s_1_1_model_learner_a059caf3572bbb464c2feb1c392e9d85f_cgraph.png" border="0" usemap="#class_a_r_t_o_s_1_1_model_learner_a059caf3572bbb464c2feb1c392e9d85f_cgraph" alt=""/></div>
<map name="class_a_r_t_o_s_1_1_model_learner_a059caf3572bbb464c2feb1c392e9d85f_cgraph" id="class_a_r_t_o_s_1_1_model_learner_a059caf3572bbb464c2feb1c392e9d85f_cgraph">
<area shape="rect" id="node3" href="class_a_r_t_o_s_1_1_stationary_background.html#ad3c45596746bf9b8f6d77adf8f7eceed" title="ARTOS::StationaryBackground\l::readFromFile" alt="" coords="209,5,412,51"/><area shape="rect" id="node5" href="class_a_r_t_o_s_1_1_stationary_background.html#aa3baa4f38a7cacbfe700208877522970" title="ARTOS::StationaryBackground\l::clear" alt="" coords="463,5,665,51"/></map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="af6f5533c070b4a763f9ff10613516323"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_a_r_t_o_s_1_1_stationary_background.html">StationaryBackground</a> ARTOS::ModelLearner::m_bg</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Stationary background statistics (to obtain negative mean and covariance). </p>

</div>
</div>
<a class="anchor" id="a78c68503eaa08e0dee4fa2d8119dee85"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;unsigned int&gt; ARTOS::ModelLearner::m_clusterSizes</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Number of samples belonging to each model computed by <code>learn</code>. </p>

</div>
</div>
<a class="anchor" id="abf4a1b494a2ffba183a276a6727332ca"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ARTOS::ModelLearner::m_loocv</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Specifies if <em>Leave-one-out-cross-validation</em> shall be used for threshold optimization. </p>

</div>
</div>
<a class="anchor" id="a2344a46529c829b91a0c8544427eb7f5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;FFLD::HOGPyramid::Level&gt; ARTOS::ModelLearner::m_models</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The models learned by <code>learn</code>. </p>

</div>
</div>
<a class="anchor" id="adc6ec1806eded71a92f3e40088d6299f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;FFLD::HOGPyramid::Scalar&gt; ARTOS::ModelLearner::m_normFactors</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Vector with factors, each model has been divided by for normalization. </p>

</div>
</div>
<a class="anchor" id="a662557bfc706c205808eb85fd4fc794c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int ARTOS::ModelLearner::m_numSamples</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Number of positive samples added (i. e. the number of bounding boxes summed over m_samples). </p>

</div>
</div>
<a class="anchor" id="a99c8135b67eff50b9b8130e9040c54a6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="struct_a_r_t_o_s_1_1_w_h_o_sample.html">WHOSample</a>&gt; ARTOS::ModelLearner::m_samples</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Positive samples consisting of images with given bounding boxes. </p>

</div>
</div>
<a class="anchor" id="ae4e29c0e0a4444763922bb0bbedd914e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;float&gt; ARTOS::ModelLearner::m_thresholds</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Optimal thresholds for the learned models computed by <code>optimizeThreshold</code>. </p>

</div>
</div>
<a class="anchor" id="ac9df8d3e93d1fe60aa7d65881f798231"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ARTOS::ModelLearner::m_verbose</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Specifies if debugging and timing information will be output to stderr. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_model_learner_8h_source.html">ModelLearner.h</a></li>
<li><a class="el" href="_model_learner_8cc.html">ModelLearner.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespace_a_r_t_o_s.html">ARTOS</a></li><li class="navelem"><a class="el" href="class_a_r_t_o_s_1_1_model_learner.html">ModelLearner</a></li>
    <li class="footer">Generated on Thu May 22 2014 22:37:36 for ARTOS by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.4 </li>
  </ul>
</div>
</body>
</html>
